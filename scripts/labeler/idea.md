우선 여기서 구현해야할 것은 딱히 시뮬레이션하는 것처럼 하지 않아도 된다.
그건 나중에 확장할 수 있게 작성하자.
뭐냐 저장되어있는 룰을 DB에서 읽어오는건 추후 확장하는것으로 미룬다.

일단은 시나리오 기반으로 라벨링을 할 수 있다는게 중요하다.
주어진 기준필드 리스트 요소들의 거래내역을 인공지능서버의 ES에 샘플링한 인덱스에서 긁어온다.
긁어온 내역을 바탕으로 시나리오 기반 탐지를 진행한다.

하지만 일단 어떤 명확한 조건에 따라 라벨링을 진행해야 하는데 
사람이 하면 매번 달라지니까 어떤 기준에 따라 항상 같은 라벨링이 진행되도록 한다.

탐지된 데이터에 대해서 redis에 키 필드 값 
키 : label1 
필드: %{기준필드} ex. 계좌번호
값: %{@id} 

AI가 어떤 룰을 추천해줘야한다.

hgetall하면 탐지된 애들 다 받아올 수 있다.
탐지 안된 요소는 기록하고, default rule로 재 탐지한다.
DEFAULT RULE로 탐지되면 기록하고, DEFAULT RULE로 탐지 안된 요소는 로그로 기록한다. 
이후 redis 캐시 비움

그럼 여기까지가 라벨링을 한거다.

미룬것 
1. DB에서 읽어온 룰로 탐지
2. 시나리오는 어떻게 짤 것인가? 
3. word to query변경 방식
